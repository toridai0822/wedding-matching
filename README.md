# 婚活パーティマッチングシステム

婚活パーティの参加者マッチングを効率的に行うWebアプリケーションです。第一希望・第二希望に基づいた優先度付きマッチングアルゴリズムを実装しています。

## 🎯 プロジェクト概要

このシステムは婚活パーティの参加者が第一希望・第二希望を入力し、管理者が優先順位に基づいてマッチングを実行できるWebアプリケーションです。

## ✨ 主な機能

### 実装済み機能

1. **参加者登録機能**
   - 受付番号（男性: 1-20、女性: 21-40）
   - 受付番号から性別を自動判定
   - 第一希望・第二希望の入力
   - バリデーション機能（範囲チェック、重複チェック等）

2. **マッチングアルゴリズム**
   - **優先度1**: 第一希望同士のマッチング（最優先）
   - **優先度2**: 第一希望と第二希望のマッチング
   - **優先度3**: 第二希望同士のマッチング
   - 同じ人が複数人とマッチングしない仕組み

3. **管理者機能**
   - パスワード認証（admin123）
   - 参加者一覧表示
   - マッチング実行
   - マッチング結果表示
   - 統計情報表示（男性/女性参加者数、マッチング成立数）
   - 全データリセット機能

4. **レスポンシブデザイン**
   - モバイル対応
   - タブレット対応
   - デスクトップ対応

## 📂 ファイル構成

```
├── index.html              # 参加者登録画面
├── admin.html              # 管理者画面
├── css/
│   └── style.css          # スタイルシート
├── js/
│   ├── participant.js     # 参加者登録処理
│   ├── matching.js        # マッチングアルゴリズム
│   └── admin.js           # 管理者画面処理
└── README.md              # このファイル
```

## 🚀 機能URIとパス

### 参加者向け

- **トップページ（参加者登録）**: `/` または `index.html`
  - 受付番号を入力（1-40）
  - 受付番号から性別を自動判定（1-20: 男性、21-40: 女性）
  - 第一希望・第二希望を入力
  - データ検証後にデータベースへ登録

### 管理者向け

- **管理者画面**: `admin.html`
  - パスワード: `admin123`
  - 参加者一覧の表示
  - マッチング実行ボタン
  - マッチング結果表示
  - 統計情報表示
  - データリセット機能

## 🗄️ データモデル

### participants（参加者テーブル）

| フィールド名 | 型 | 説明 |
|------------|-----|------|
| id | text | 参加者ID（自動生成） |
| reception_number | number | 受付番号（1-40） |
| gender | text | 性別（male/female） |
| first_choice | number | 第一希望の受付番号 |
| second_choice | number | 第二希望の受付番号 |
| name | text | 参加者名（任意） |

### matches（マッチング結果テーブル）

| フィールド名 | 型 | 説明 |
|------------|-----|------|
| id | text | マッチングID（自動生成） |
| participant1_number | number | 参加者1の受付番号 |
| participant2_number | number | 参加者2の受付番号 |
| match_type | text | マッチタイプ（mutual_first/first_second/mutual_second） |
| match_priority | number | 優先度（1:第一同士/2:第一×第二/3:第二同士） |
| created_date | datetime | マッチング実行日時 |

## 💡 マッチングアルゴリズムの詳細

マッチングは以下の優先順位で処理されます：

### 優先度1: 第一希望同士のマッチング
- AさんがBさんを第一希望として選択
- BさんもAさんを第一希望として選択
- → **最優先でマッチング成立**

### 優先度2: 第一希望と第二希望のマッチング
- AさんがBさんを第一希望として選択、BさんがAさんを第二希望として選択
- または、AさんがBさんを第二希望として選択、BさんがAさんを第一希望として選択
- → **マッチング成立**

### 優先度3: 第二希望同士のマッチング
- AさんがBさんを第二希望として選択
- BさんもAさんを第二希望として選択
- → **マッチング成立**

### 重要な制約
- 一度マッチングが成立した参加者は、他の参加者とマッチングされない
- より優先度の高いマッチングが優先される

## 🔧 使用技術

- **フロントエンド**: HTML5, CSS3, JavaScript (ES6+)
- **フォント**: Noto Sans JP (Google Fonts)
- **アイコン**: Font Awesome 6.4.0
- **データストレージ**: RESTful Table API
- **認証**: セッションストレージベースの簡易認証

## 📝 使い方

### 参加者として

1. トップページ（index.html）にアクセス
2. 受付番号を入力（1-40番、自動的に性別を判定）
3. 第一希望・第二希望の受付番号を入力
4. 「登録する」ボタンをクリック

### 管理者として

1. 管理者画面（admin.html）にアクセス
2. パスワード「admin123」を入力してログイン
3. 参加者一覧を確認
4. 「マッチング実行」ボタンをクリック
5. マッチング結果を確認
6. 必要に応じてデータをリセット

## 🔐 セキュリティについて

**注意**: このシステムは簡易的な実装です。本番環境で使用する場合は以下の対策が必要です：

- 管理者パスワードの暗号化・ハッシュ化
- サーバーサイド認証の実装
- HTTPS通信の使用
- XSS/CSRF対策
- 入力データの厳密なサニタイゼーション

## 🚧 未実装機能・今後の拡張案

- [ ] 参加者の個別編集・削除機能
- [ ] マッチング結果のPDF/CSV出力
- [ ] マッチング履歴の保存と再表示
- [ ] メール通知機能
- [ ] より詳細な統計情報（マッチング率、人気ランキング等）
- [ ] 参加者向けのマッチング結果閲覧画面
- [ ] 管理者権限の複数レベル化
- [ ] データバックアップ機能

## 📊 次のステップ推奨

1. **テストデータの投入**: 実際のシナリオを想定したテストデータで動作確認
2. **マッチングロジックの調整**: 実際の運用に合わせたアルゴリズムの微調整
3. **UI/UXの改善**: 参加者からのフィードバックに基づく改善
4. **セキュリティ強化**: 本番環境向けの認証・認可機能の実装
5. **パフォーマンス最適化**: 大規模パーティ（100名以上）への対応

## 🎨 デザインについて

- カラースキーム: ピンク系グラデーション（婚活テーマに適した温かみのある色）
- フォント: Noto Sans JP（日本語に最適化された読みやすいフォント）
- レイアウト: カード型デザインで情報を整理
- レスポンシブ対応: モバイルファーストで設計

## 📄 ライセンス

このプロジェクトは教育目的で作成されています。

---

**開発者へ**: 本番環境にデプロイする前に、セキュリティとパフォーマンスの十分なテストを実施してください。